@(paacForm : Form[form.PensionInputFormFields])(implicit request:Request[_])

@import uk.gov.hmrc.play.views.html.helpers._

@common.paacMain(
pageTitle = Messages("paac.pension.inputs.pagetitle"),
heading = Messages("paac.pension.inputs.heading"),
backLink = Some((controllers.routes.SelectSchemeController.onPageLoad.url,Messages("paac.link.text.back")))
) {

    <p class="lede text">@Messages("paac.calculator.startpage.p1")</p>
    <p class="lede text">@Messages("paac.calculator.startpage.p2")</p>

    @form(
        action = controllers.routes.PensionInputsController.onSubmit,
        args = 'class -> "form", 'autocomplete -> "off", 'novalidate -> "") {

        <p class="lede text">@Messages("paac.pension.inputs.question")</p>
        <table>
            <thead>
                <tr>
                    <th class="numeric" scope="col" style="text-align: right">Tax years</th>
                    <th class="numeric" scope="col" style="text-align: right"></th>
                    <th class="numeric" scope="col" style="text-align: right">Pension input amount value</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                @defining(java.text.NumberFormat.getCurrencyInstance(java.util.Locale.UK)) { currencyFormatter =>
                @for(i <- List(2014)) {
                <fieldset id="input_@i" class="form-field-group" style="max-width:12.35em;">
                    <label class="form-element-bold label--full-length numeric" for="definedBenefit_@i" style="width:150%;display: inline-block;@if(paacForm.errors.find(_.key == "definedBenefit_"+i)) {color:#b10e1e;}">
                    <td style="text-align:right;min-width: 7em">@(Contribution(i,0).taxYearLabel())</td>
                    <td style="text-align:right;min-width: 7em">Total Defined Benefit</td>

                      <span style="float:right">
                      @if(paacForm.data.contains("definedBenefit_"+i)) {
                          <td style="text-align:right;min-width: 7em">
                              £&nbsp;<input type="number" name="definedBenefit_@i" id="definedBenefit" min="0" value='@paacForm.data("definedBenefit_"+i)' style="@if(paacForm.errors.find(_.key == "definedBenefit_"+i)) {border: 4px solid #b10e1e;}"/>
                          </td>
                          } else {
                          <td style="text-align:right;min-width: 7em">
                              £&nbsp;<input type="number" name="definedBenefit_@i" id="definedBenefit" min="0" value='0.00' style="@if(paacForm.errors.find(_.key == "definedBenefit_"+i)) {border: 4px solid #b10e1e;}"/>
                          </td>
                          }
                      </span>
                    </label>
                </fieldset>
                }
                }
            </tr>
            </tbody>
        </table>

        <br/>
        <button id="submit" type="submit" class="button" value="Continue">@Messages("paac.calculator.button.continue")</button>
    }
}