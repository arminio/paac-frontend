@(paacForm : Form[form.CalculatorFormFields],selectedSchemeType: String = "")(implicit request:Request[_])

@import uk.gov.hmrc.play.views.html.helpers._

@common.paacMain(
pageTitle = Messages("paac.1516.period1.pension.inputs.pagetitle"),
heading = Messages("paac.1516.pension.inputs.pages.heading", (if(selectedSchemeType == "db") "defined benefit" else if (selectedSchemeType == "dc") "defined contribution"  else "pension")),
articleClasses=Some("full-width"),
backLink = Some((controllers.routes.YesNo1516Period1Controller.onPageLoad.url,Messages("paac.link.text.back")))
) {

    @if(paacForm.hasErrors) {
      <div class="error-summary" role="group" aria-labelledby="error-summary-heading-example-1" tabindex="-1" style="border: 5px solid #b10e1e;padding: 20px;padding-top: 0px;margin-bottom: 30px;">

        <h1 class="heading-medium error-summary-heading">
          There was a problem with the amounts you reported to us
        </h1>

        @if(paacForm.hasGlobalErrors) {
          <ul>
          @for(error <- paacForm.globalErrors) {
            <li>@error.message</li>
          }
          </ul>
        }

        <ul class="error-summary-list">
          @for(error <- paacForm.errors) {
            @defining(error.key.drop(15).toInt) { year =>
              @defining(Seq(models.Contribution(year,0).taxYearLabel())++error.args) { args =>
                <li><a href="#input_@year" style="color:#b10e1e;font-weight: bold;">@Messages(error.message, args:_*)</a></li>
              }
            }
          }
        </ul>
      </div>
    }
    
    @form(
        action = controllers.routes.PensionInputs1516Period1Controller.onSubmit,
        args = 'class -> "form", 'autocomplete -> "off", 'novalidate -> "") {

        <p class="lede text">@Messages("paac.1516.pension.inputs.pages.description", (if(selectedSchemeType == "db") "defined benefit" else if (selectedSchemeType == "dc") "defined contribution"  else "pension"))</p>

        <table>
            <tbody>
                @for(i <- List(2015)) {
                    <fieldset id="input_@i" class="form-field-group" style="max-width:12.35em;">
                        @if(selectedSchemeType == "db" || selectedSchemeType == "dcdb"){
                        <label class="form-element-bold label--full-length numeric" for="definedBenefit_2015_p1" style="width:150%;display: inline-block;@if(paacForm.errors.find(_.key == "definedBenefit_2015_p1")) {color:#b10e1e;}">
                        <tr style="text-align:left;min-width: 7em">@Messages("paac.1516.pension.inputs.db")</tr><BR/>
                          <span style="float:right">
                              @if(paacForm.data.contains("definedBenefit_2015_p1")) {
                              <tr style="text-align:left;min-width: 7em">
                                  £&nbsp;<input type="number" name="definedBenefit_2015_p1" id="definedBenefit_2015_p1" min="0" step="1" value='@paacForm.data("definedBenefit_2015_p1")' max="9999999.99" size="10" style="width:9em;@if(paacForm.errors.find(_.key == "definedBenefit_2015_p1")) {border: 4px solid #b10e1e;}"/>
                              </tr>
                              } else {
                              <tr style="text-align:left;min-width: 7em">
                                  £&nbsp;<input type="number" name="definedBenefit_2015_p1" id="definedBenefit_2015_p1" min="0" step="1" value='' max="9999999.99" size="10" style="width:9em;@if(paacForm.errors.find(_.key == "definedBenefit_2015_p1")) {border: 4px solid #b10e1e;}"/>
                              </tr>
                              }
                          </span>
                        </label>
                        }
                        @if(selectedSchemeType == "dc" || selectedSchemeType == "dcdb"){
                        <label class="form-element-bold label--full-length numeric" for="definedContribution_2015_p1" style="width:150%;display: inline-block;@if(paacForm.errors.find(_.key == "definedContribution_2015_p1")) {color:#b10e1e;}">
                        <tr style="text-align:left;min-width: 7em">@Messages("paac.1516.pension.inputs.dc")</tr><BR/>
                          <span style="float:right">
                              @if(paacForm.data.contains("definedContribution_2015_p1")) {
                              <tr style="text-align:left;min-width: 7em">
                                  £&nbsp;<input type="number" name="definedContribution_2015_p1" id="definedContribution_2015_p1" min="0" step="1" value='@paacForm.data("definedContribution_2015_p1")' max="9999999.99" size="10" style="width:9em;@if(paacForm.errors.find(_.key == "definedContribution_2015_p1")) {border: 4px solid #b10e1e;}"/>
                              </tr>
                              } else {
                              <tr style="text-align:left;min-width: 7em">
                                  £&nbsp;<input type="number" name="definedContribution_2015_p1" id="definedContribution_2015_p1" min="0" step="1" value='' max="9999999.99" size="10" style="width:9em;@if(paacForm.errors.find(_.key == "definedContribution_2015_p1")) {border: 4px solid #b10e1e;}"/>
                              </tr>
                              }
                          </span>
                        </label>
                        }
                    </fieldset>
                }  @* End of for loop *@
            </tbody>
        </table>

        <br/>
        <button id="submit" type="submit" class="button" value="Continue">@Messages("paac.calculator.button.continue")</button>
    } @* End of Form *@
} @* End of paacMain *@